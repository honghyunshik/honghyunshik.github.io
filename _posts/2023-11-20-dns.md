---
title: DNS
author: honghyunshik
date: 2023-11-20 14:30:00 +0800
categories: [Network]
tags: [network, dns, server, domain]
---

## DNS?

**웹 사이트의 IP 주소와 도메인 주소를 이어주는 서버**

만약 DNS가 없다면 어떨까요? 

우리는 Google 사이트에 접속하고 싶은데, Google의 IP 주소를 외워야 할 겁니다. 
IP주소는 숫자로 되어있기 때문에 해당 사이트를 나타내지 못해요. 따라서 도메인 주소로 사이트를 대표합니다.
마치 전화번호부에 김XX - 010-XXXX-XXXX 이런식으로 표현된 것처럼요.

우리가 브라우저에 도메인으로 접근하면, DNS가 해당 도메인 주소에 맞는 IP 주소를 반환해 주는 거죠. 이러면 우리는
도메인만으로 해당 웹사이트를 방문할 수 있습니다.

### 클라이언트가 웹 사이트를 방문하려면?

제가 웹 브라우저에 www.naver.com 을 입력했어요. 그럼 다음과 같은 과정을 거치게 됩니다.

    1. DNS에 접속해서 도메인 주소(www.naver.com)와 연결된 IP주소를 받아옵니다.
    2. 사용자 PC가 전달받은 IP로 접속합니다.
    3. 사용자 IP로 연결된 브라우저에 서버의 내용(홈페이지)를 출력합니다.

이는 DNS의 작동과정을 매우 간소화한 것입니다. 더 자세히 알아보도록 할게요.

### 계층적인 DNS 서버

만약 슈퍼 컴퓨터가 하나의 서버로 전 세계의 수많은 도메인을 모두 관리할 수 있다면 위의 과정이 전부일 것입니다.

하지만 실제로 도메인 수가 너무 많기 때문에 DNS 서버를 계층적으로 구성해서 단계적으로 일처리를 합니다.

이제 DNS의 동작 순서를 자세히 알아보도록 하겠습니다.

### DNS 동작 순서

다음의 순서는 제 PC가 IP주소를 찾아오기 위해 겪게되는 순서입니다.

#### 1. 웹 브라우저 캐시

가장 먼저 웹 브라우저의 DNS 캐시를 확인합니다. 캐시의 정보가 유효하다면 다음 순서는 필요가 없겠네요.

#### 2. 운영체제 캐시

다음으로 운영체제의 DNS 캐시를 확인합니다.

#### 3. Local DNS

Local DNS 서버에 캐시가 있다면 반환해줍니다.

여기서 Local DNS 서버란 각 통신사(KT, SK 등)을 말합니다.

#### 4. Root DNS

Local DNS는 해당 IP를 얻기 위해 Root DNS 서버와 DNS Query를 통해 통신을 합니다.

www.naver.com 주소에서 .com을 관리하는 TLD로 연결해줍니다.

#### 5. TLD DNS

Local DNS는 이제 TLD DNS와 통신합니다. TLD DNS는 특정 도메인 서버로 연결해줍니다.

#### 6. Authoritative DNS

Local DNS는 이제 특정 도메인(www.naver.com) 서버와 통신합니다.

이 서버는 해당 도메인의 IP 주소를 반환합니다. 그리고 이를 Local DNS는 캐싱합니다.




